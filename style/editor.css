/*
 * Markdown WYSIWYG Editor Styles - TOAST UI Integration
 *
 * Key lessons from TipTap implementation:
 * - Keep styles minimal and let TOAST UI manage its own layout
 * - TOAST UI handles scrolling internally (no CSS conflicts with Lumino)
 * - Only override what's necessary for JupyterLab theme integration
 */

/* Main editor container - minimal intervention */
.jp-MarkdownEditor {
  display: flex;
  flex-direction: column;
  height: 100%;
  width: 100%;
  background-color: var(--jp-layout-color1);
  overflow: hidden;
}

/* Editor content container - let TOAST UI control everything inside */
.jp-MarkdownEditor-content {
  flex: 1;
  position: relative;
  min-height: 0; /* Enable flex scrolling */
}

/*
 * TOAST UI Editor theme integration
 * Target TOAST UI's internal structure to apply JupyterLab theme
 */

/* TOAST UI Editor wrapper */
.jp-MarkdownEditor-content .toastui-editor-defaultUI {
  border: none;
  background-color: var(--jp-layout-color1);
}

/* TOAST UI main editor area */
.jp-MarkdownEditor-content .toastui-editor-main {
  background-color: var(--jp-layout-color1);
}

/* TOAST UI WYSIWYG editor */
.jp-MarkdownEditor-content .toastui-editor-ww-container {
  background-color: var(--jp-layout-color1);
}

.jp-MarkdownEditor-content .ProseMirror {
  color: var(--jp-content-font-color1);
  font-family: var(--jp-content-font-family);
  font-size: var(--jp-content-font-size1);
  line-height: var(--jp-content-line-height);
  padding: 16px 24px;
}

/* Headings */
.jp-MarkdownEditor-content .ProseMirror h1 {
  font-size: var(--jp-content-font-size5);
  color: var(--jp-content-font-color1);
  font-weight: 500;
  margin: 0.5em 0;
}

.jp-MarkdownEditor-content .ProseMirror h2 {
  font-size: var(--jp-content-font-size4);
  color: var(--jp-content-font-color1);
  font-weight: 500;
  margin: 0.5em 0;
}

.jp-MarkdownEditor-content .ProseMirror h3 {
  font-size: var(--jp-content-font-size3);
  color: var(--jp-content-font-color1);
  font-weight: 500;
  margin: 0.5em 0;
}

.jp-MarkdownEditor-content .ProseMirror h4,
.jp-MarkdownEditor-content .ProseMirror h5,
.jp-MarkdownEditor-content .ProseMirror h6 {
  font-size: var(--jp-content-font-size2);
  color: var(--jp-content-font-color1);
  font-weight: 500;
  margin: 0.5em 0;
}

/* Code */
.jp-MarkdownEditor-content .ProseMirror code {
  font-family: var(--jp-code-font-family);
  font-size: 0.9em;
  background-color: var(--jp-layout-color2);
  color: var(--jp-content-font-color1);
  padding: 2px 4px;
}

/* Code blocks */
.jp-MarkdownEditor-content .ProseMirror pre {
  background-color: var(--jp-layout-color2);
  color: var(--jp-content-font-color1);
  font-family: var(--jp-code-font-family);
  font-size: var(--jp-code-font-size);
  line-height: var(--jp-code-line-height);
  padding: var(--jp-code-padding);
  overflow-x: auto;
  margin: 1em 0;
}

.jp-MarkdownEditor-content .ProseMirror pre code {
  background-color: transparent;
  padding: 0;
}

/* Blockquotes */
.jp-MarkdownEditor-content .ProseMirror blockquote {
  border-left: 4px solid var(--jp-border-color2);
  padding-left: 1em;
  margin: 1em 0;
  color: var(--jp-content-font-color2);
}

/* Lists */
.jp-MarkdownEditor-content .ProseMirror ul,
.jp-MarkdownEditor-content .ProseMirror ol {
  padding-left: 2em;
  margin: 1em 0;
}

/* Links */
.jp-MarkdownEditor-content .ProseMirror a {
  color: var(--jp-content-link-color);
  text-decoration: none;
}

.jp-MarkdownEditor-content .ProseMirror a:hover {
  text-decoration: underline;
}

/* Selection */
.jp-MarkdownEditor-content .ProseMirror ::selection {
  background-color: var(--jp-editor-selected-background);
}

/* Focus */
.jp-MarkdownEditor-content .ProseMirror:focus {
  outline: none;
}

/* Tables */
.jp-MarkdownEditor-content .ProseMirror table {
  border-collapse: collapse;
  margin: 1em 0;
  width: 100%;
}

.jp-MarkdownEditor-content .ProseMirror table td,
.jp-MarkdownEditor-content .ProseMirror table th {
  border: 1px solid var(--jp-border-color2);
  padding: 8px;
}

.jp-MarkdownEditor-content .ProseMirror table th {
  font-weight: bold;
  background-color: var(--jp-layout-color2);
}

/* Horizontal rule */
.jp-MarkdownEditor-content .ProseMirror hr {
  border: none;
  border-top: 1px solid var(--jp-border-color1);
  margin: 1em 0;
}
